<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Product Choice</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT

// Set up the expire date for cookies that will be set on this page
expiredate= new Date;
expiredate.setMonth(expiredate.getMonth() + 6);

// Set the default style to 1
var style_change = 1;
// set some more defaults
total_price=0;
var SG1_s1 = 0;
var SG1_s2 = 0;
var SG1_s3 = 0;
var SG1_s4 = 0;
var SG1_s5 = 0;
var SG1_s6 = 0;
var SG1_s7 = 0;
var SG1_s8 = 0;

//Test if a cookie exists, if it does, get the value of the  cookies using the getCookie function
//Even if one cookie exists for this domain, the if statement is true and will be evaluated. 
//  Need to take this into account later on, because if there is no value for the cookie, the
//  getCookie function returns a null value
if (document.cookie != "") {
//alert("Cookie exists");
   SG1_s1=getCookie("SG1_Season_1");
   SG1_s2=getCookie("SG1_Season_2");
   SG1_s3=getCookie("SG1_Season_3");
   SG1_s4=getCookie("SG1_Season_4");
   SG1_s5=getCookie("SG1_Season_5");
   SG1_s6=getCookie("SG1_Season_6");
   SG1_s7=getCookie("SG1_Season_7");
   SG1_s8=getCookie("SG1_Season_8");
   total_price=getCookie("Total_Order_Price");
   style_change=getCookie("Style_sheet");
} /* end if cookie */

// the following tests all of the cookie values we just got, if we have a null value, we set it to 0
if(SG1_s1==null){
SG1_s1=0;
}
if(SG1_s2==null){
SG1_s2=0;
}
if(SG1_s3==null){
SG1_s3=0;
}
if(SG1_s4==null){
SG1_s4=0;
}
if(SG1_s5==null){
SG1_s5=0;
}
if(SG1_s6==null){
SG1_s6=0;
}
if(SG1_s7==null){
SG1_s7=0;
}
if(SG1_s8==null){
SG1_s8=0;
}
//If we have a null value for the style sheet, set it to 1
if(style_change==null){
style_change=1;
}
// write out the link to correct style sheet
document.write("<link href='style"+style_change+".css' rel='stylesheet' type='text/css'>");


function calculateTotalPrice() {
//this function figures out the total price of what we have ordered

// based on what we have ordered, calculate the cost for it
var SG1_s1_order_price = SG1_s1 * 25.99;
var SG1_s2_order_price = SG1_s2 * 25.99;
var SG1_s3_order_price = SG1_s3 * 29.99;
var SG1_s4_order_price = SG1_s4 * 29.99;
var SG1_s5_order_price = SG1_s5 * 39.99;
var SG1_s6_order_price = SG1_s6 * 39.99;
var SG1_s7_order_price = SG1_s7 * 49.99;
var SG1_s8_order_price = SG1_s8 * 49.99;
// set the total price to 0. I can set the total to 0 every time because we recalculate the total price
//   each time any value is changed
var total_price = 0;

// calculate the total price. I broke it up, just to make it easier to see for myself
total_price = SG1_s1_order_price+SG1_s2_order_price+SG1_s3_order_price;
total_price = total_price + SG1_s4_order_price+SG1_s5_order_price+SG1_s6_order_price;
total_price = total_price + SG1_s7_order_price+SG1_s8_order_price;
var total_order = "Total_Order_Price";

// set the cookie with the total price
setCookie(total_order, total_price);

// and update the form on the page
document.forms[0].tot_price.value=total_price;
}// end function calculateTotalPrice

function setCookie(name, value, expires, path, domain, secure) {
// this function set a cookie based on the info passed to it
  var curCookie = name + "=" + escape(value) + "; expires=" +expiredate.toGMTString() +
      ((path) ? "; path=" + path : "") +
      ((domain) ? "; domain=" + domain : "") +
      ((secure) ? "; secure" : "");
  document.cookie = curCookie;
} // end function

function getCookie(name) {
// this function gets the info stored in the cookie based on the name passed to it
  var dc = document.cookie;
  var prefix = name + "=";
  var begin = dc.indexOf("; " + prefix);
  if (begin == -1) {
    begin = dc.indexOf(prefix);
    if (begin != 0) return null;
  } else
    begin += 2;
  var end = document.cookie.indexOf(";", begin);
  if (end == -1)
    end = dc.length;
  return unescape(dc.substring(begin + prefix.length, end));
} // end function


// END HIDING -->	
</script>
</head>

<body>
<div id="content">
<div id="text">
<h1>Ankur's Store</h1>
<p align="center">Please enter the number of each DVD set you would like, then press &quot;Check Out&quot; on this page, or &quot;Confirm Order&quot; on the left</p>


<form name="myform" action="">
<!-- So with this part, I know it is not neat, but it gets the job done. 
I didn't want to have a whole lot of document.writes, so I enter javascript, and end it very often
-->

<table width="100%"  border="0" cellspacing="2" cellpadding="5">
  
  <tr>
    <td><p>Stargate SG-1 Season 1: $25.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season1 ="SG1_Season_1";
document.write("<input type='text' name='SG1_1' size='5' onBlur='SG1_s1=this.value; setCookie(SG1_season1, SG1_s1); calculateTotalPrice()' ");
  if (SG1_s1!="") {
     document.write(" value='"+SG1_s1+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
    <td width="150"><img src="images/sg1_season1.jpg" width="150" height="170" alt="Season 1"></td>
    <td><p>Stargate SG-1 Season 2: $25.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season2 ="SG1_Season_2";
document.write("<input type='text' name='SG1_2' size='5' onBlur='SG1_s2=this.value; setCookie(SG1_season2, SG1_s2); calculateTotalPrice()' ");
  if (SG1_s2!="") {
     document.write(" value='"+SG1_s2+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
</p></td>
    <td width="150"><img src="images/sg1_season2.jpg" alt="Season 2" width="150" height="195"></td>
  </tr>
  <tr>
    <td><p>Stargate SG-1 Season 3: $29.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season3 ="SG1_Season_3";
document.write("<input type='text' name='SG1_3' size='5' onBlur='SG1_s3=this.value; setCookie(SG1_season3, SG1_s3); calculateTotalPrice()' ");
  if (SG1_s3!="") {
     document.write(" value='"+SG1_s3+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
 <td width="150"><img src="images/sg1_season3.jpg" alt="Season 3" width="150" height="201"></td>
    <td><p>Stargate SG-1 Season 4: $29.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season4 ="SG1_Season_4";
document.write("<input type='text' name='SG1_4' size='5' onBlur='SG1_s4=this.value; setCookie(SG1_season4, SG1_s4); calculateTotalPrice()' ");
  if (SG1_s4!="") {
     document.write(" value='"+SG1_s4+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
<td width="150"><img src="images/sg1_season4.jpg" alt="Season 4" width="150" height="200"></td>
  </tr>
  <tr>
    <td><p>Stargate SG-1 Season 5: $39.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season5 ="SG1_Season_5";
document.write("<input type='text' name='SG1_5' size='5' onBlur='SG1_s5=this.value; setCookie(SG1_season5, SG1_s5); calculateTotalPrice()' ");
  if (SG1_s5!="") {
     document.write(" value='"+SG1_s5+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
<td width="150"><img src="images/sg1_season5.jpg" alt="Season 5" width="150" height="211"></td>
    <td><p>Stargate SG-1 Season 6: $39.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season6 ="SG1_Season_6";
document.write("<input type='text' name='SG1_6' size='5' onBlur='SG1_s6=this.value; setCookie(SG1_season6, SG1_s6); calculateTotalPrice()' ");
  if (SG1_s6!="") {
     document.write(" value='"+SG1_s6+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
    <td width="150"><img src="images/sg1_season6.jpg" alt="Season 6" width="150" height="215"></td>
  </tr>
  <tr>
    <td><p>Stargate SG-1 Season 7: $49.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season7 ="SG1_Season_7";
document.write("<input type='text' name='SG1_7' size='5' onBlur='SG1_s7=this.value; setCookie(SG1_season7, SG1_s7); calculateTotalPrice()' ");
  if (SG1_s7!="") {
     document.write(" value='"+SG1_s7+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
<td width="150"><img src="images/sg1_season7.jpg" alt="Season 7" width="150" height="231"></td>
    <td><p>Stargate SG-1 Season 8: $49.99</p>
      <p>Quantity
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT
var SG1_season8 ="SG1_Season_8";
document.write("<input type='text' name='SG1_8' size='5' onBlur='SG1_s8=this.value; setCookie(SG1_season8, SG1_s8); calculateTotalPrice()' ");
  if (SG1_s8!="") {
     document.write(" value='"+SG1_s8+"'");
}
  else{
  document.write(" value='0'");
  }
document.write("> ");
// END HIDING -->	
</script>
	  </p></td>
<td width="150"><img src="images/sg1_season8.jpg" alt="Season 8" width="150" height="229"></td>
  </tr>
</table>
<h2 align="center">Total Price
<script language="JavaScript" type="text/javascript">
<!-- HIDE IT

document.write("<input type='text' name='tot_price' size='5' value='$"+total_price+"' >");
// END HIDING -->	
</script>

</h2>



</form>
<!-- Button for the user to continue on to the next part
-->
<div id="center">
<input type="submit" name="Submit" value="Check Out" onClick="document.location.href='confirm.htm'">
</div>

<p>&nbsp;</p>

</div>
</div>
</body>
</html>
